<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>æ¨‚é½¡å¥½é£Ÿå…‰ï½œä¸€æ—¥ä¸‰é¤</title>
  <style>
    :root {
      --deep-gray: #403A34;
      --mid-gray: #D8D0C6;
      --accent-yellow: #FFC857;
      --card-bg: #FFFFFF;
      --text-main: #1F1F1F;
      --light-gray: #BEB5AA;
      /* æ‹‰éœ¸å°ˆç”¨å°ºå¯¸è®Šæ•¸ */
      --slot-rowH: 34px;
      --slot-winH: 86px;
    }

    * { box-sizing: border-box }
    html, body { margin: 0; padding: 0; scroll-behavior: smooth }

    body {
      font-family: "Noto Sans TC", "å¾®è»Ÿæ­£é»‘é«”", sans-serif;
      background: var(--mid-gray);
      color: var(--text-main);
      font-size: 18px;
      line-height: 1.7;
      font-weight: 500;
    }

    /* Header */
    header {
      background: var(--deep-gray);
      color: #fff;
      padding: 18px 15px;
    }
    .header-inner {
      max-width: 900px;
      margin: 0 auto;
      display: flex;
      align-items: center;
      gap: 12px;
      flex-wrap: wrap;
    }
    .logo-tag {
      background: var(--accent-yellow);
      color: var(--text-main);
      padding: 6px 12px;
      border-radius: 999px;
      font-size: 16px;
      font-weight: 800;
    }
    .site-title { margin: 0; font-size: 22px; font-weight: 900 }
    .site-subtitle { margin: 4px 0 0; font-size: 15px; opacity: .92 }

    /* Nav */
    nav {
      background: var(--mid-gray);
      border-top: 1px solid var(--light-gray);
      border-bottom: 1px solid var(--light-gray);
    }
    .nav-inner {
      max-width: 900px;
      margin: 0 auto;
      display: flex;
      justify-content: center;
      gap: 10px;
      padding: 10px 16px;
      flex-wrap: wrap;
    }
    nav a {
      color: #646161;
      text-decoration: none;
      font-weight: 900;
      font-size: 16px;
      padding: 10px 16px;
      border-radius: 999px;
    }
    nav a:hover, nav a.active {
      background: var(--accent-yellow);
      color: var(--text-main);
    }

    /* Main Container */
    .container {
      max-width: 900px;
      margin: 0 auto;
      padding: 20px 15px 40px;
    }

    main.container section {
      background: var(--card-bg);
      border-radius: 14px;
      padding: 20px 18px;
      margin-top: 20px;
      box-shadow: 0 2px 6px rgba(0,0,0,.08);
    }

    h2 {
      margin: 0 0 15px;
      font-size: 22px;
      display: inline-block;
      padding: 6px 18px;
      border-radius: 999px;
      background: var(--accent-yellow);
      color: var(--text-main);
      font-weight: 900;
    }

    /* Table */
    table { width: 100%; border-collapse: collapse; margin-top: 12px; font-size: 17px }
    th, td { border: 1px solid #ddd; padding: 10px; vertical-align: top; background: #fff }
    th { background: #f3f3f3; font-weight: 900 }
    .center { text-align: center; vertical-align: middle; font-weight: bold; color: var(--deep-gray); font-size: 20px; }
    .red { color: #AB2328; font-weight: bold; }
    .remark > span { color: #AB2328; }

    /* =========================================
       æ‹‰éœ¸æ¨£å¼ (Slot Machine Styles)
       ========================================= */
    .slot-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 12px;
      margin: 20px 0;
    }
    @media (max-width: 750px) { .slot-grid { grid-template-columns: repeat(2, 1fr); } }
    @media (max-width: 480px) { .slot-grid { grid-template-columns: 1fr; } }
    
    .slot-box {
      border: 1px solid var(--mid-gray);
      border-radius: 12px;
      padding: 12px;
      background: #fafafa;
      text-align: center;
      transition: box-shadow 0.3s ease;
    }
    .slot-label {
      font-weight: 900;
      font-size: 16px;
      margin-bottom: 10px;
      color: var(--deep-gray);
    }
    .slot-window {
      position: relative;
      height: var(--slot-winH);
      background: #fff;
      border: 1px solid var(--mid-gray);
      border-radius: 10px;
      overflow: hidden;
    }
    .slot-roller {
      position: absolute;
      top: 0; left: 0; right: 0;
      will-change: transform;
    }
    .slot-item {
      height: var(--slot-rowH);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      font-weight: 800;
      color: #333;
      padding: 0 5px;
      white-space: nowrap;
    }
    .slot-center-line {
      position: absolute;
      top: 50%; left: 10%; right: 10%;
      height: 0;
      border-top: 2px dashed var(--accent-yellow);
      transform: translateY(-50%);
      z-index: 2;
    }

    /* âœ… é‡è¦ï¼šæ‹‰éœ¸åœæ­¢å¾Œæ–‡å­—ä¸Šä¸‹å·¦å³ç½®ä¸­ (ä¾ç™½æ¡†ç‚ºä¸») */
    .slot-box.solo .slot-center-line { display: none; }
    .slot-box.solo .slot-roller {
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      transform: none !important; /* å–æ¶ˆä½ç§» */
      position: absolute;
      top: 0; left: 0;
    }
    .slot-box.solo .slot-item { display: none; } /* å…ˆéš±è—å…¨éƒ¨ */
    .slot-box.solo .slot-item.is-center {
      display: flex !important; /* åªé¡¯ç¤ºçµæœé … */
      position: relative;
      width: 100%;
      height: 100%;
      font-size: 16px;
      color: var(--text-main);
      background: transparent;
      align-items: center;
      justify-content: center;
    }

    .slot-controls { text-align: center; margin-top: 20px; }
    .btn-spin {
      background: var(--deep-gray);
      color: white;
      border: none;
      padding: 12px 40px;
      font-size: 18px;
      font-weight: 900;
      border-radius: 999px;
      cursor: pointer;
      box-shadow: 0 4px 10px rgba(0,0,0,0.15);
      transition: 0.2s;
    }
    .btn-spin:hover { background: #5a524a; transform: translateY(-2px); }
    .btn-spin:active { transform: translateY(0); }
    .btn-spin:disabled { opacity: 0.5; cursor: not-allowed; }

    .slot-result {
      margin-top: 25px;
      padding: 18px;
      background: #fdf8ef;
      border: 1px dashed var(--light-gray);
      border-left: 6px solid var(--accent-yellow);
      border-radius: 12px;
      display: none;
    }
    /* ========================================= */

    .highlight {
      background: var(--accent-yellow);
      border-radius: 12px;
      padding: 12px 14px;
      margin-top: 10px;
      font-size: 17px;
    }

    footer {
      color: #646161;
      font-size: 14px;
      text-align: center;
      padding: 25px 10px 35px;
    }
  </style>
</head>

<body>

<header>
  <div class="header-inner">
    <span class="logo-tag">æ¨‚é½¡å¥½é£Ÿå…‰</span>
    <div>
      <p class="site-title">ä¸€æ—¥ä¸‰é¤ç¤ºç¯„</p>
      <p class="site-subtitle">æº«å’Œã€å¥½å…¥å£çš„ä¸€å¤©èœå–®åƒè€ƒ</p>
    </div>
  </div>
</header>

<nav>
  <div class="nav-inner">
    <a href="index.html">é¦–é </a>
    <a href="nutrition.html">ç‡Ÿé¤Šå°çŸ¥è­˜</a>
    <a class="active" href="menu.html">ä¸€æ—¥ä¸‰é¤</a>
    <a href="about.html">ç‡Ÿé¤Šè¨ˆç®—å°å·¥å…·</a>
  </div>
</nav>

<main class="container">

  <section>
    <h2>ç¤ºç¯„èœå–®</h2>
    <p>æ¯ä½é•·è¼©ç‹€æ³ä¸åŒï¼Œä»¥ä¸‹ç‚ºä¸€èˆ¬ç¤ºä¾‹</p>
    <p class="red">*è‹¥æœ‰æ…¢æ€§ç–¾ç—…ï¼Œä»å»ºè­°ä¾é†«å¸«æˆ–ç‡Ÿé¤Šå¸«æŒ‡ç¤ºèª¿æ•´*</p>

    <table>
      <thead>
        <tr>
          <th style="width:20%;">é¤åˆ¥</th>
          <th style="width:40%;">é¤é»å…§å®¹</th>
          <th style="width:40%;">å°æé†’</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td class="center">æ—©é¤</td>
          <td>â–¸ ç„¡ç³–è±†æ¼¿ä¸€æ¯<br>â–¸ åå¸ä¸€ç‰‡ï¼ˆåˆ‡å°å¡Šï¼‰<br>â–¸ æ°´ç…®è›‹æˆ–è»Ÿç…è›‹ä¸€é¡†</td>
          <td>è±†æ¼¿ï¼‹è›‹æä¾›è›‹ç™½è³ªï¼›ç‰™å£è¼ƒå¼±å¯æŠŠåå¸æ²¾è±†æ¼¿ä¸€èµ·åƒã€‚</td>
        </tr>
        <tr>
          <td class="center">åˆé¤</td>
          <td>â–¸ ç™½é£¯åŠç¢—ï½ä¸€ç¢—<br>â–¸ æ¸…è’¸é­šæˆ–ç‡‰è»Ÿé›è‚‰<br>â–¸ è»Ÿç…®é’èœä¸€ç¢—<br>â–¸ æ¸…æ¹¯ä¸€ç¢—</td>
          <td>èª¿å‘³ä¸å¿…å¤ªé¹¹ï¼›è‚‰èˆ‡èœç…®è»Ÿï¼Œé¿å…æ²¹ç‚¸èˆ‡éæ²¹æ–™ç†ã€‚</td>
        </tr>
        <tr>
          <td class="center">ä¸‹åˆé»å¿ƒ</td>
          <td>â–¸ å„ªæ ¼æˆ–ç‰›å¥¶ä¸€æ¯<br>â–¸ é¦™è•‰åŠæ ¹æˆ–åˆ‡ç‰‡è˜‹æœ</td>
          <td class="remark">æ°´æœåˆ‡å°å¡Šæ–¹ä¾¿å…¥å£ã€‚<br><span>*è‹¥æœ‰ç³–å°¿ç—…éœ€ä¾é†«å›‘èª¿æ•´ä»½é‡</span></td>
        </tr>
        <tr>
          <td class="center">æ™šé¤</td>
          <td>â–¸ ç¨€é£¯æˆ–è»Ÿé£¯åŠç¢—ï½ä¸€ç¢—<br>â–¸ è±†è…ç…²æˆ–çµè‚‰æ–™ç†<br>â–¸ è»Ÿç…®è”¬èœä¸€ä»½</td>
          <td class="remark">é©åˆç‰™å£è¼ƒå·®æˆ–æ™šä¸Šä¸æƒ³åƒå¤ªé£½çš„é•·è¼©ï¼Œä»¥å¥½æ¶ˆåŒ–ç‚ºä¸»ã€‚<br><span>*æœ‰è¡€è„‚å•é¡Œè€…å¯å°‡çµè‚‰æ›æˆè±†è…ã€ç˜¦è‚‰ç­‰ã€‚</span></td>
        </tr>
      </tbody>
    </table>
  </section>

  <section>
    <h2>ä»Šå¤©åƒä»€éº¼ï¼Ÿæ‹‰éœ¸å¹«æ‚¨å‡ºä¸»æ„ğŸ°</h2>
    <p>æŒ‰ä¸€ä¸‹ã€Œé–‹å§‹é¸èœã€ï¼Œè‡ªå‹•ç‚ºé•·è¼©çµ„åˆç‡Ÿé¤Šçš„ä¸€é¤ï¼š</p>
    
    <div class="slot-grid">
      <div class="slot-box" id="slot-b">
        <div class="slot-label">æ—©é¤</div>
        <div class="slot-window">
          <div class="slot-center-line"></div>
          <div class="slot-roller" id="roll-b"></div>
        </div>
      </div>
      <div class="slot-box" id="slot-l">
        <div class="slot-label">åˆé¤</div>
        <div class="slot-window">
          <div class="slot-center-line"></div>
          <div class="slot-roller" id="roll-l"></div>
        </div>
      </div>
      <div class="slot-box" id="slot-s">
        <div class="slot-label">é»å¿ƒ</div>
        <div class="slot-window">
          <div class="slot-center-line"></div>
          <div class="slot-roller" id="roll-s"></div>
        </div>
      </div>
      <div class="slot-box" id="slot-d">
        <div class="slot-label">æ™šé¤</div>
        <div class="slot-window">
          <div class="slot-center-line"></div>
          <div class="slot-roller" id="roll-d"></div>
        </div>
      </div>
    </div>

    <div class="slot-controls">
      <button class="btn-spin" id="btnSpin">é–‹å§‹é¸èœ</button>
    </div>

    <div class="slot-result" id="resBox">
      <strong style="font-size: 19px;">âœ¨ ä»Šæ—¥èœå–®æ¨è–¦ï¼š</strong>
      <p id="resTxt" style="margin: 12px 0; font-size: 17px; font-weight: 800; color: var(--deep-gray);"></p>
      <p id="resTip" style="margin: 0; color: #666; font-size: 15px; font-weight: 700;"></p>
    </div>
  </section>

  <section>
    <h2>å®¶äººçš„å°ä»»å‹™</h2>
    <div class="highlight">
      <ul>
        <li>æ¯é€±é‡ä¸€æ¬¡é«”é‡ï¼Œè‹¥é€£çºŒä¸‹é™è¦ç‰¹åˆ¥ç•™æ„ã€‚</li>
        <li>è§€å¯Ÿæœ€è¿‘é£Ÿé‡æ˜¯å¦è®Šå°‘ã€æ˜¯å¦è®Šå¾—å¾ˆæŒ‘é£Ÿã€‚</li>
        <li>ç›¡é‡ä¸€èµ·åƒé£¯ã€å¤šèŠå¤©ï¼Œæ°£æ°›å¸¸å¸¸æ¯”èœè‰²æ›´é‡è¦ã€‚</li>
      </ul>
    </div>
  </section>

</main>

<footer>
  æœ¬ç¶²ç«™å…§å®¹åƒ…ç‚ºä¸€èˆ¬ç‡Ÿé¤Šè§€å¿µæ•´ç†ï¼Œè‹¥æœ‰ç‰¹æ®Šç–¾ç—…æˆ–ä¸é©ï¼Œå»ºè­°è«®è©¢é†«å¸«æˆ–ç‡Ÿé¤Šå¸«ã€‚<br />
  <p> Â© 2025 æ¨‚é½¡å¥½é£Ÿå…‰ </p>
  <p>æ­¤ç¶²é ç‚ºæœŸæœ«å ±å‘Šä½¿ç”¨ï¼Œè‹¥æœ‰ä¾µæ¬Šè«‹å‘ŠçŸ¥</p>
  <p>è£½ä½œè€…ï¼šå¼µOO(009)ã€æ—OO(030)</p>
</footer>

<script>
  // è³‡æ–™é›†
  const MEALS = {
    b: ["ç„¡ç³–è±†æ¼¿","æº«ç‰›å¥¶","ç‡•éº¥é£²","è»Ÿç…®è›‹","åå¸å°å¡Š","å°é¥…é ­","é¦™è•‰"],
    l: ["ç™½é£¯åŠç¢—","ç‡‰åœ°ç“œ","æ¸…è’¸é­š","ç‡‰é›è‚‰","è’¸è›‹è±†è…","ç‡™é’èœ","å—ç“œæ¹¯"],
    s: ["ç„¡ç³–å„ªæ ¼","ç†±ç‰›å¥¶","èŠéº»ç³Š","æ°´æœåˆ‡ç›¤","å«©è±†èŠ±"],
    d: ["è”¬èœç¨€é£¯","ç‡‰ç…®çˆ›èœ","ç´…ç‡’è±†è…","å»ä»”é­šç²¥","è»Ÿéºµæ¢"]
  };

  const TIPS = [
    "è¨˜å¾—è£œå……æ°´åˆ†ï¼Œæ…¢æ…¢å–æ¯”è¼ƒä¸å®¹æ˜“å—†åˆ°ã€‚",
    "å¦‚æœç‰™å£ä¸å¥½ï¼Œå¯ä»¥æŠŠé£Ÿç‰©åˆ‡å¾—æ›´ç´°ç¢ä¸€äº›ã€‚",
    "é¤é–“å¯ä»¥æ­é…ä¸€é»æº«æ°´ï¼Œå¹«åŠ©ååš¥ã€‚",
    "å¿ƒæƒ…æ„‰å¿«ç‡Ÿé¤Šå¸æ”¶æ›´å¥½ï¼ä»Šå¤©ä¹Ÿè¦é–‹å¿ƒåƒé£¯ã€‚"
  ];

  const rowH = 34; 
  const winH = 86;
  const offset = (winH - rowH) / 2;

  // åˆå§‹åŒ–æ‹‰éœ¸å…§å®¹
  function initRollers() {
    ['b','l','s','d'].forEach(key => {
      const el = document.getElementById('roll-' + key);
      // è¤‡è£½å¤šä»½é¸é …å¢åŠ æ»¾å‹•é•·åº¦
      const items = Array.from({length: 20}, () => MEALS[key]).flat();
      el.innerHTML = items.map(t => `<div class="slot-item">${t}</div>`).join('');
      el.style.transform = `translateY(-${rowH * 5}px)`;
    });
  }

  // æ»¾å‹•æ ¸å¿ƒé‚è¼¯
  function spin(key, duration) {
    return new Promise(resolve => {
      const el = document.getElementById('roll-' + key);
      const box = document.getElementById('slot-' + key);
      const items = MEALS[key];
      
      // éš¨æ©Ÿé¸ä¸€å€‹çµæœ
      const targetTxt = items[Math.floor(Math.random() * items.length)];
      
      // é‡ç½®æ¨£å¼
      box.classList.remove('solo');
      const totalItems = el.children.length;
      
      // å°‹æ‰¾æœ€å¾Œå€æ®µä¸­ç¬¦åˆç›®æ¨™çš„ç´¢å¼•ï¼Œç¢ºä¿æ»¾å‹•è·é›¢å¤ é•·
      let targetIdx = 0;
      for(let i = totalItems - 8; i >= 0; i--) {
        if(el.children[i].textContent === targetTxt) { targetIdx = i; break; }
      }

      const finalPos = (targetIdx * rowH) - offset;
      const start = performance.now();

      function animate(now) {
        const t = Math.min(1, (now - start) / duration);
        const ease = 1 - Math.pow(1 - t, 4); // å››æ¬¡æ–¹æ¸›é€Ÿæ›²ç·š
        const currentPos = ease * finalPos;
        el.style.transform = `translateY(-${currentPos}px)`;

        if (t < 1) {
          requestAnimationFrame(animate);
        } else {
          el.style.transform = `translateY(-${finalPos}px)`;
          box.classList.add('solo'); // è§¸ç™¼ç½®ä¸­ CSS
          // æ¸…é™¤èˆŠçš„ä¸­å¿ƒæ¨™è¨˜
          Array.from(el.children).forEach(c => c.classList.remove('is-center'));
          el.children[targetIdx].classList.add('is-center');
          resolve(targetTxt);
        }
      }
      requestAnimationFrame(animate);
    });
  }

  // æŒ‰éˆ•é»æ“Šäº‹ä»¶
  document.getElementById('btnSpin').onclick = async function() {
    this.disabled = true;
    document.getElementById('resBox').style.display = 'none';
    
    // åŒæ™‚é–‹å§‹è½‰å‹•ï¼Œä½†ä¾åºåœæ­¢ï¼ˆæ™‚é–“ä¸åŒï¼‰
    const results = await Promise.all([
      spin('b', 1800), 
      spin('l', 2400), 
      spin('s', 3000), 
      spin('d', 3600)
    ]);

    // âœ… æ›´æ–°æ–‡å­—æ ¼å¼
    document.getElementById('resTxt').innerHTML = 
      `æ—©é¤ï¼š${results[0]} ã€€|ã€€ åˆé¤ï¼š${results[1]} ã€€|ã€€ é»å¿ƒï¼š${results[2]} ã€€|ã€€ æ™šé¤ï¼š${results[3]}`;
    
    document.getElementById('resTip').textContent = "ğŸ’¡ å°æç¤ºï¼š" + TIPS[Math.floor(Math.random() * TIPS.length)];
    document.getElementById('resBox').style.display = 'block';
    this.disabled = false;
  };

  initRollers();
</script>

</body>
</html>

